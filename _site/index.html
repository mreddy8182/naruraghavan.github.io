<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Technology Blog</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:4000/images/abstract-1.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="Describe this nonsense.">
<meta name="twitter:creator" content="@naruraghavan">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="http://localhost:4000/index.html">
<meta property="og:site_name" content="Technology Blog">





<link rel="canonical" href="http://localhost:4000/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Technology Blog Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://localhost:4000/images/avatar-2.png" alt="Narayanan Raghavan photo" class="author-photo">
					<h4>Narayanan Raghavan</h4>
					<p>15+ years of Software building experience. Masters degree from Carnegie Mellon.</p>
				</li>
				<li><a href="http://localhost:4000/about/">Learn More</a></li>
				<li>
					<a href="mailto:naruraghavan@icloud.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/naruraghavan"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				
				<li>
					<a href="http://linkedin.com/in/naruraghavan"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/naruraghavan"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://localhost:4000/posts/">All Posts</a></li>
				<li><a href="http://localhost:4000/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="http://localhost:4000/images/abstract-1.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Technology Blog</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-09-14T00:00:00-04:00"><a href="http://localhost:4000/technology-stack-for-web-applications/">September 14, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Narayanan Raghavan">Narayanan Raghavan</a></span></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~14 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/technology-stack-for-web-applications/" rel="bookmark" title="Technology Stack For Web Applications" itemprop="url">Technology Stack For Web Applications</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Choices abound when it comes to developing websites and to managing them efficiently. This paper outlines a set of web technologies that can be used to build out both the client- and server-side components of J2EE-based websites. In addition to specifying the technologies to be used at various tiers, this paper also discusses best practices in structuring the work products for website deployment using continuous delivery concepts.  </p>

<h2 id="i----application-architecture">I.    APPLICATION ARCHITECTURE</h2>
<p>We will stick to the typical web application architecture as shown in the following diagram:</p>

<p><img src="http://localhost:4000/images/application-architecture.png" alt="Application Architecture" /></p>

<p>The following section will outline the prescribed technologies for each one of the layers and partitions. </p>

<h3 id="a--programming-language">A.  Programming Language</h3>
<p>All code elements to use Java 1.7+. </p>

<p>Build scripts, unit, acceptance, and integration tests can be written using Groovy 2.3+ [1].</p>

<h3 id="b---presentation-layer-client">B.   Presentation Layer (Client)</h3>
<p><img src="http://localhost:4000/images/presentation-layer.png" alt="Application Architecture" /></p>

<p>This layer is primarily concerned with user interfaces and ways in which they are presented to the end user. We shall use the following technologies for the above-mentioned packages:</p>

<h4 id="user-interfaces">1)  User Interfaces</h4>
<p>HTML5, CSS3, CSS Preprocessors such as Less [2], Bootstrap 3.0+</p>

<h4 id="presentation-logic-client">2)  Presentation Logic (Client)</h4>
<p>Ember.js [3]</p>

<h3 id="c--presentation-layer-server">C.  Presentation Layer (Server)</h3>
<p>This layer is responsible for producing dynamic content from the layers below and for providing support for navigation.</p>

<h4 id="presentation-logic-server">1)  Presentation Logic (Server)</h4>
<p>Spring Framework, Spring MVC, Tiles 3, JSTL/Thymeleaf [4]</p>

<p>HTML5-compliant email templates can be created with Thymeleaf templating engine [5].</p>

<p>Spring Framework will provide support for dependency injection for controllers, components, resources, repositories, and services [6]. </p>

<h4 id="presentation-models">2)  Presentation Models</h4>
<p>Presentation Models shall be POJOs (Plain Old Java Objects) with a little bit of behavior in them to support both client- and server-side presentation logic elements. </p>

<h3 id="d--service-layer">D.  Service Layer</h3>
<p><img src="http://localhost:4000/images/service-layer.png" alt="Application Architecture" /></p>

<p>This layer is responsible for providing support for structuring micro-services in terms of service interfaces and implementations, events that are used as data transfer objects between the presentation and the persistence or data tiers. This layer will also house the domain model converters, when needed, to convert domain models to the needs of the presentation tier. </p>

<h4 id="service-interfaces">1)  Service Interfaces</h4>
<p>Service Interfaces will be straightforward Java interfaces. Service implementations would be straightforward Java classes with annotation embedded to aid in dependency injection. For example, service implementations must have @Service annotation to help with Spring Boot auto-wiring support. </p>

<p>When there is a need to communicate with external systems for data Spring Integration framework [7] could be used to avoid high coupling and low cohesion between various elements of the software under construction.</p>

<h4 id="event-types">2)  Event Types</h4>
<p>POJOs to facilitate Command Query Responsibility Segregation (CQRS) pattern [8]. </p>

<h4 id="domain-model-converters">3)  Domain Model Converters</h4>
<p>Using Java Generics, a domain model converter takes one or more (collections) persistence domain models and converts them to models that are more appropriate for UI presentation aspects. </p>

<h4 id="content-management">4)  Content Management</h4>
<p><img src="http://localhost:4000/images/content-management.png" alt="Application Architecture" /></p>

<h5 id="a--cma">a)  CMA</h5>
<p>Content Management Application (CMA) services would provide the building blocks for creating and publishing content for the websites. CMA would make use of NoSQL document stores such as MongoDB to store and retrieve content using Spring Data MongoDB framework.</p>

<h5 id="b--cda">b)  CDA</h5>
<p>Content Delivery Application (CDA) services would provide the building blocks for retrieving content from the NoSQL document store. Spring Data REST and Spring HATEOAS would be primarily employed by this package to deliver JSON output using Jackson Data Bind.</p>

<h3 id="e--data-layer">E.  Data Layer</h3>
<p><img src="http://localhost:4000/images/data-layer.png" alt="Application Architecture" /></p>

<p>This layer shall use Spring Data primarily. </p>

<h4 id="domain-models">1)  Domain Models</h4>
<p>POJOs annotated with @Entity (javax.persistence.*) when using Spring Data JPA [9] or QueryDSL [10]. When using NoSQL document stores, use Spring Data MongoDB [11].</p>

<p>Components using Spring Data REST [12] would have appropriate “Entity Link” objects for JSON output processing using Jackson Data Bind [13].</p>

<h3 id="f--data-sources">F.  Data Sources</h3>
<p><img src="http://localhost:4000/images/data-sources.png" alt="Application Architecture" /></p>

<p>Traditional databases with SQL support and NoSQL document stores could be employed to manage data for the websites. Corporate data such as Customer records and their relationships could be captured using the traditional databases such as Oracle or MySQL DBMS. Website content, that is unstructured in nature, could be stored in the NoSQL document stores such as MongoDB [14].</p>

<h3 id="g--external-systems">G.  External Systems</h3>
<p>Systems that are not directly developed to handle the websites would be considered external and therefore be accessed with “Integration Patterns” [15] in mind. Spring Integration framework provides implementations using POJOs for most of the architectural patterns such as endpoint, aggregator, filter, transformer, control bus [7] etc.</p>

<h3 id="h--crosscutting-concerns">H.  Crosscutting Concerns</h3>
<p>This partition is responsible for providing support for all layers in terms of security, tests, and operational management.</p>

<p><img src="http://localhost:4000/images/crosscutting-concerns.png" alt="Application Architecture" /></p>

<h4 id="operational-management">1)  Operational Management</h4>
<p>Spring Boot [16] will be used to simplify the bootstrapping and development of the websites. All configuration information must be captured using Java Configuration classes annotated with @Configuration and @Profile as opposed to using XML configurations. </p>

<p>Auditing, trace, health, and metrics of the websites can be customized using the Spring Boot Actuator module [17].</p>

<p>Database Migrations can be accomplished by Flyway database migration tool [18].</p>

<h4 id="security">2)  Security</h4>
<p>Spring Security [19] to be utilized as a server side framework along with HDIV [20]. Since there is an enterprise solution in this area, a decision in this area will be detailed out at a later time.</p>

<h4 id="tests">3)  Tests</h4>
<p>Unit, Acceptance and Integration tests for the server-side components will be developed using (browser test automation and specification frameworks) Spock [21], Geb [22] in Groovy [1]. </p>

<h3 id="i--summary">I.  Summary</h3>
<p>The following picture depicts all layers with interactions:</p>

<p><img src="http://localhost:4000/images/tech-stack.png" alt="Application Architecture" /></p>

<h2 id="ii-software-development-process">II. SOFTWARE DEVELOPMENT PROCESS</h2>
<p>The technology stack for the various areas of the software development process is outlined in the following section.</p>

<h3 id="a--project-management">A.  Project Management</h3>
<p>Basecamp, Pivotal Tracker [23], and MS Project would be used as project management tools.</p>

<h3 id="b--integrated-development-environment-ide">B.  Integrated Development Environment (IDE)</h3>
<p>IntelliJ IDEA [24] or Spring STS [25] would be used to develop code structures.</p>

<h3 id="c--code-version-management">C.  Code Version Management</h3>
<p>Git [26] and GitHub [27] would be used as the version control system and remote private code repository respectively.</p>

<h3 id="d--build--dependency-management">D.  Build &amp; Dependency Management</h3>
<p>Gradle [28] would be used as the polyglot build and dependency management tool. Spring IO platform [29]  must be used in the build.gradle file to control the versions of the dependencies of Spring framework packages.</p>

<h3 id="e--code-quality-management-aka-automated-code-reviews">E.  Code Quality Management aka. Automated Code Reviews</h3>
<p>Code quality will be determined in terms of coding standards, overly complex and inefficient code, potential bugs, and bad coding practices. CheckStyle [30], PMD [31], CodeNarc [32] for Groovy [1], FingBugs [33], and JDepend [34] would be used to measure the code quality metrics. JaCoCo [35] would be used to measure code coverage. </p>

<p>SonarQube [36] would be used to visualize, aggregate, and monitor code quality metrics over a period of time. </p>

<h3 id="f--artifact-assembly-and-publishing">F.  Artifact Assembly and Publishing</h3>
<p>As the need arises, JFrog Artifactory [37] or Sonatype Nexus [38] would be considered.</p>

<h3 id="g--continuous-integration">G.  Continuous Integration</h3>
<p>Jenkins [39] would be used as the continuous integration [40] server to automate the stages in build pipeline as shown below:</p>

<p><img src="http://localhost:4000/images/cd-ci-pipeline.png" alt="Application Architecture" /></p>

<p>User Acceptance Test (UAT) and Production stages would be triggered manually.</p>

<h2 id="iii----conclusion">III.    CONCLUSION</h2>
<p>This paper discussed a wide range of technologies to develop and manage  websites efficiently. Though the technologies put forth in this paper will fit the application architecture and the development process, it is strongly recommended for the development team to be always on the lookout for better technology elements and incorporate them as it sees fit as the architecture emerges naturally as the website development efforts move forward.</p>

<hr />
<p>[1] “Groovy - Documentation.” [Online]. Available: http://groovy.codehaus.org/Documentation. [Accessed: 06-Sep-2014].</p>

<table>
  <tbody>
    <tr>
      <td>[2] “Getting started</td>
      <td>Less.js.” .</td>
    </tr>
  </tbody>
</table>

<p>[3] “Ember.js - Guides and Tutorials: Ember.js Guides.” [Online]. Available: http://emberjs.com/guides/. [Accessed: 06-Sep-2014].</p>

<p>[4] “Thymeleaf Page Layouts - Thymeleaf: java XML/XHTML/HTML5 template engine.” [Online]. Available: http://www.thymeleaf.org/doc/layouts.html. [Accessed: 06-Sep-2014].</p>

<p>[5] “Rich HTML email in Spring with Thymeleaf - Thymeleaf: java XML/XHTML/HTML5 template engine.” [Online]. Available: http://www.thymeleaf.org/doc/springmail.html. [Accessed: 06-Sep-2014].</p>

<p>[6] “Spring Framework Reference Documentation.” [Online]. Available: http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#new-in-4.0. [Accessed: 06-Sep-2014].</p>

<p>[7] “Spring Integration.” [Online]. Available: http://projects.spring.io/spring-integration/. [Accessed: 03-Sep-2014].</p>

<p>[8] M. Fowler, “CQRS.” [Online]. Available: http://martinfowler.com/bliki/CQRS.html. [Accessed: 03-Sep-2014].</p>

<p>[9] “Spring Data JPA.” [Online]. Available: http://projects.spring.io/spring-data-jpa/. [Accessed: 06-Sep-2014].</p>

<p>[10]    “Querydsl - Reference Documentation.” [Online]. Available: http://www.querydsl.com/static/querydsl/3.4.3/reference/html/. [Accessed: 06-Sep-2014].</p>

<p>[11]    “Spring Data MongoDB.” [Online]. Available: http://projects.spring.io/spring-data-mongodb/#quick-start. [Accessed: 06-Sep-2014].</p>

<p>[12]    “Spring Data REST.” [Online]. Available: http://projects.spring.io/spring-data-rest/#quick-start. [Accessed: 06-Sep-2014].</p>

<p>[13]    “JacksonHome - FasterXML Wiki.” [Online]. Available: http://wiki.fasterxml.com/JacksonHome. [Accessed: 06-Sep-2014].</p>

<p>[14]    “MongoDB.” [Online]. Available: http://www.mongodb.org/. [Accessed: 06-Sep-2014].</p>

<p>[15]    “Home - Enterprise Integration Patterns.” [Online]. Available: http://www.eaipatterns.com/. [Accessed: 03-Sep-2014].</p>

<p>[16]    “Getting Started · Building an Application with Spring Boot.” [Online]. Available: https://spring.io/guides/gs/spring-boot/. [Accessed: 06-Sep-2014].</p>

<p>[17]    “Spring Boot Reference Guide.” [Online]. Available: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready. [Accessed: 06-Sep-2014].</p>

<p>[18]    “Get Started - Flyway • Database Migrations Made Easy.” [Online]. Available: http://flywaydb.org/getstarted/. [Accessed: 06-Sep-2014].</p>

<p>[19]    “Spring Security Reference.” [Online]. Available: http://docs.spring.io/autorepo/docs/spring-security/4.0.0.CI-SNAPSHOT/reference/htmlsingle/. [Accessed: 06-Sep-2014].</p>

<p>[20]    “HDIV: Java Web Application Security Framework.” [Online]. Available: http://hdiv.org/. [Accessed: 06-Sep-2014].</p>

<p>[21]    “Spock Framework Reference Documentation — Spock 1.0-SNAPSHOT.” [Online]. Available: http://docs.spockframework.org/en/latest/. [Accessed: 06-Sep-2014].</p>

<p>[22]    “Geb - Very Groovy Browser Automation.” [Online]. Available: http://www.gebish.org/. [Accessed: 06-Sep-2014].</p>

<p>[23]    “Pivotal Tracker: Getting Started.” [Online]. Available: https://www.pivotaltracker.com/help/gettingstarted. [Accessed: 06-Sep-2014].</p>

<p>[24]    “IntelliJ IDEA :: Features.” [Online]. Available: http://www.jetbrains.com/idea/features/. [Accessed: 06-Sep-2014].</p>

<p>[25]    “Tools.” [Online]. Available: http://spring.io/tools. [Accessed: 06-Sep-2014].</p>

<p>[26]    “Git - Git Basics.” [Online]. Available: http://git-scm.com/book/en/Git-Basics. [Accessed: 06-Sep-2014].</p>

<p>[27]    “About.” [Online]. Available: https://github.com/about. [Accessed: 06-Sep-2014].</p>

<p>[28]    “Gradle - Overview.” [Online]. Available: http://www.gradle.org/overview. [Accessed: 06-Sep-2014].</p>

<p>[29]    “Spring IO Platform.” [Online]. Available: http://spring.io/platform. [Accessed: 06-Sep-2014].</p>

<p>[30]    “checkstyle - Checkstyle 5.7.” [Online]. Available: http://checkstyle.sourceforge.net/. [Accessed: 06-Sep-2014].</p>

<p>[31]    “PMD – Welcome to PMD.” [Online]. Available: http://pmd.sourceforge.net/pmd-5.1.3/. [Accessed: 06-Sep-2014].</p>

<p>[32]    “CodeNarc -.” [Online]. Available: http://codenarc.sourceforge.net/. [Accessed: 06-Sep-2014].</p>

<p>[33]    “FindBugsTM - Find Bugs in Java Programs.” [Online]. Available: http://findbugs.sourceforge.net/. [Accessed: 06-Sep-2014].</p>

<p>[34]    “JDepend.” [Online]. Available: http://clarkware.com/software/JDepend.html. [Accessed: 06-Sep-2014].</p>

<p>[35]    “EclEmma - Using the Coverage View.” [Online]. Available: http://www.eclemma.org/userdoc/coverageview.html. [Accessed: 06-Sep-2014].</p>

<p>[36]    “SonarQubeTM » Features.” [Online]. Available: http://www.sonarqube.org/features/. [Accessed: 06-Sep-2014].</p>

<p>[37]    “Artifactory – The Open Source Repository Manager by JFrog.” [Online]. Available: http://www.jfrog.com/open-source/#os-arti. [Accessed: 06-Sep-2014].</p>

<p>[38]    “Sonatype.org: Nexus.” [Online]. Available: http://www.sonatype.org/nexus/. [Accessed: 06-Sep-2014].</p>

<p>[39]    “Meet Jenkins - Jenkins - Jenkins Wiki.” [Online]. Available: https://wiki.jenkins-ci.org/display/JENKINS/Meet+Jenkins. [Accessed: 06-Sep-2014].</p>

<p>[40]    “Continuous Integration.” [Online]. Available: http://www.martinfowler.com/articles/continuousIntegration.html. [Accessed: 06-Sep-2014].</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2014-07-21T00:00:00-04:00"><a href="http://localhost:4000/deploying-spring-boot-applications-in-ibm-websphere-application-server/">July 21, 2014</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Narayanan Raghavan">Narayanan Raghavan</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://localhost:4000/deploying-spring-boot-applications-in-ibm-websphere-application-server/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~5 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/deploying-spring-boot-applications-in-ibm-websphere-application-server/" rel="bookmark" title="Deploying Spring Boot Applications in IBM WebSphere Application Server" itemprop="url">Deploying Spring Boot Applications in IBM WebSphere Application Server</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Though the Spring Projects make our lives easier on a daily basis, as a development lead, I do face technical difficulties in bridging the gap between development and operations. One such difficulty was to get one of my applications developed using a wide variety of Spring technnologies - Spring Data JPA, Spring Data Rest, Spring Hateoas, and Spring Data Redis - to deploy on WebSphere Application Server. I was excited to use Spring Boot 1.1.4 and Spring IO Platform 1.0.1 to manage my development and version management.   </p>

<p>I enjoyed my dev time every day until it was time to deploy the application on IBM WebSphere Application Server (WAS). Expecting the Operations team to troubleshoot the deployment problems may not even be possible given the human resource availability/constraints on that team. Therefore, it becomes an additional development story within a Sprint (in Agile Scrum parlance) for the core dev team to execute.  </p>

<h2 id="deploying-on-websphere-liberty-profile-wlp">Deploying on WebSphere Liberty Profile (WLP)</h2>
<p>My initial idea was to get the application up and running within WLP. You can download the runtime <a href="https://developer.ibm.com/wasdev/downloads/liberty-profile-using-non-eclipse-environments/">here</a>.</p>

<p>After a little bit of struggle, I got WLP working within my IntelliJ IDE as shown below:</p>

<p><img src="http://localhost:4000/images/WLP-in-IntelliJ.png" alt="WLP in IntelliJ" /> </p>

<p>and the <code>server.xml</code> should look somewhat like the following:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;server description=&quot;new server&quot;&gt;
  &lt;!-- Enable features --&gt;
  &lt;featureManager&gt;
    &lt;feature&gt;localConnector-1.0&lt;/feature&gt;
    &lt;feature&gt;jsp-2.2&lt;/feature&gt;
  &lt;/featureManager&gt;
  &lt;!-- To access this server from a remote client add a host attribute to the following element, e.g. host=&quot;*&quot; --&gt;
  &lt;httpEndpoint httpPort=&quot;9080&quot; httpsPort=&quot;9443&quot; id=&quot;defaultHttpEndpoint&quot; /&gt;
  &lt;applicationMonitor updateTrigger=&quot;mbean&quot; /&gt;
  &lt;jspEngine jdkSourceLevel=&quot;16&quot; /&gt;
  &lt;application id=&quot;Gradle___ContentRestServices___ncrs_war__exploded_&quot; location=&quot;/Users/Naru/IdeaProjects/ContentRestServices/out/artifacts/ContentRestServices/exploded/ncrs.war&quot; name=&quot;Gradle___ContentRestServices___ncrs_war__exploded_&quot; type=&quot;war&quot; /&gt;
&lt;/server&gt;</code></pre></div>

<p>Since Spring Boot starter package for web <code>spring-boot-starter-web</code> uses embedded tomcat by default, I ended up specifying the following in my <code>build.gradle</code> file as follows:</p>

<p><code>
providedRuntime("org.springframework.boot:spring-boot-starter-tomcat")
</code></p>

<p>The <code>providedRuntime</code> directive makes sure that the war plugin moves the embeeded tomcat jar files to <code>/WEB-INF/lib-provided</code> from <code>/WEB-INF/lib</code> directory. </p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>The premise of Spring Boot is to develop and run Spring applications as standalones - extremely good for development teams. </p>
    </blockquote>
  </blockquote>
</blockquote>

<p>If you build the war file Without the above directive, the embedded tomcat jars will also be placed along with the other jar dependencies in the <code>/WEB-INF/lib</code> directory. <a href="https://github.com/spring-projects/spring-boot/issues/1194">Here</a> is the question I posed to the Spring Boot team to get my application war file to work in a regular Tomcat or WLP environment.</p>

<p>Once the above situation with the application war file was fixed, my application deployed and ran fine within the WLP environment. After successfully getting the application to work in WLP environment, I moved onto deploying it in my test WAS 8.5.5.2 environment. To my surpise, the application did not even deploy properly. I had to perform a bunch of steps to get my REST application to work.</p>

<h2 id="deploying-on-websphere-application-server-was">Deploying on WebSphere Application Server (WAS)</h2>
<p>The key to a successful deployment of Spring Boot applications in WAS is to setup a shared library as shown below:</p>

<p><img src="http://localhost:4000/images/WAS-shared-library-setup.png" alt="Shared Library Setup in WAS" /> </p>

<p>I removed all the jar files under <code>/WEB-INF/lib</code>  from my war file and placed them into the shared library. After setting up the shared library, I changed the class loader order as follows:</p>

<p><img src="http://localhost:4000/images/class-loader-order.png" alt="Class Loader Order" /></p>

<p>Though the application started, I got hit with JPA persistence issues as follows:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java">Caused by: java.lang.ClassCastException: com.ibm.websphere.persistence.PersistenceProviderImpl incompatible with javax.persistence.spi.PersistenceProvider
    at javax.persistence.Persistence$1.isLoaded(Persistence.java:92) ~[hibernate-jpa-2.0-api-1.0.1.Final.jar:1.0.1.Final]
    at org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.isReachable(JPATraversableResolver.java:56) ~[hibernate-validator-5.0.3.Final.jar:5.0.3.Final]
    at org.hibernate.validator.internal.engine.resolver.DefaultTraversableResolver.isReachable(DefaultTraversableResolver.java:130) ~[hibernate-validator-5.0.3.Final.jar:5.0.3.Final]
    at org.hibernate.validator.internal.engine.resolver.SingleThreadCachedTraversableResolver.isReachable(SingleThreadCachedTraversableResolver.java:46) ~[hibernate-validator-5.0.3.Final.jar:5.0.3.Final]
    at org.hibernate.validator.internal.engine.ValidatorImpl.isReachable(ValidatorImpl.java:1307) ~[hibernate-validator-5.0.3.Final.jar:5.0.3.Final]
    ... 159 common frames omitted</code></pre></div>

<p><code>java.lang.ClassCastException: com.ibm.websphere.persistence.PersistenceProviderImpl 
</code></p>

<p>The exception is due to the JPA 2.0 jars that are shipped with WAS 8.5.5.2. Unfortunately, I couldn’t find a way to fix the issue by changing out the default java persistence API as shown below:</p>

<p><img src="http://localhost:4000/images/alternate-persistence-provider-in-WAS.png" alt="Persistence Provider" /> </p>

<p>Since Spring Boot 1.1.4 and starter package <code>spring-boot-starter-data-jpa</code> contains hibernate JPA 2.1 support, it will collide with the JPA 2.0 jars that ship with WAS 8.5.5.2. There is no quick way to make WAS load your jar files through class loader order <code>PARENT_LAST</code>. </p>

<p>I could get the Spring Boot with JPA application to work was to downgrade hibernate jars to version <code>hibernate-release-4.2.15.Final</code>.</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Previous
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    
      <li>
        
          <a href="http://localhost:4000/page2">2</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page3">3</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page4">4</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page5">5</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page6">6</a>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page7">7</a>
        
      </li>
    
  </ul>
  
    <a href="http://localhost:4000/page2" class="btn">Next</a>
  
</div><!-- /.pagination -->
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Narayanan Raghavan. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52449804-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

          

</body>
</html>